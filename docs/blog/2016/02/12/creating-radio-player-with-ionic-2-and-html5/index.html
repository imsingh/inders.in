<!DOCTYPE html>

<html>

  <head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    Creating Radio Player with Ionic 2 and HTML 5 - inders.in
    
  </title>

  <meta name="description" content="Hi, Folks. Ionic 2 is creating a buzz in Hybrid Development. Developers are loving various features of Ionic 2. If you are not familiar with Ionic 2 yet. Rea...">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css">

  <link rel="stylesheet" href="/assets/vendor/font-awesome/css/font-awesome.min.css">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://inders.in/blog/2016/02/12/creating-radio-player-with-ionic-2-and-html5/">
  <link rel="alternate" type="application/rss+xml" title="inders.in" href="/feed.xml">
</head>


  <body>

    <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">inders.in</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Blog</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/work">Work</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li> 
      </ul>
    </div>
  </div>
</nav>


    <!-- Page Header -->

<header class="masthead">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>Creating Radio Player with Ionic 2 and HTML 5</h1>
          
          <span class="meta">Posted by
            <a href="#">Indermohan Singh</a>
            on February 12, 2016</span>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto post-content">

      <p>Hi, Folks. Ionic 2 is creating a buzz in Hybrid Development. Developers are loving various features of Ionic 2. If you are not familiar with Ionic 2 yet. Read my previous <a href="/blog/2015/10/28/introduction-to-ionic-2/">post on Ionic2.</a></p>

<!--more-->

<p>Recently I created a Radio Streaming app in Ionic 1. So I decided to put together an Ionic 2 demo for a Radio App. There will be no nitty gritty features. I will just create a basic demo of Radio Player with play and pause buttons. So let’s do it. You need to install the beta version of ionic.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install <span class="nt">-g</span> ionic@beta
</code></pre></div></div>

<p>Now create a blank project with ionic cli.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ionic start radio blank <span class="nt">--v2</span> <span class="nt">--ts</span>
<span class="nb">cd </span>radio
ionic platform add ios
ionic platform add android
</code></pre></div></div>

<p>We can start coding our Radio Player Functionality. Create a radio.ts at /app/radio/radio.ts</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">RadioPlayer</span> <span class="p">{</span>
  <span class="nl">url</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
  <span class="nl">stream</span><span class="p">:</span><span class="nx">any</span><span class="p">;</span>
  <span class="nl">promise</span><span class="p">:</span><span class="nx">any</span><span class="p">;</span>
  
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://akalmultimedia.net:8000/GDNSLDH"</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">stream</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Audio</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nx">play</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">promise</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'playing'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">resolve</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'error'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">reject</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
    
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">promise</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">pause</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
<span class="p">};</span>

<span class="p">}</span>
</code></pre></div></div>

<p>This is our basic Angular 2 Service for Radio Player. We have used HTML5 Audio Component and ES6 Promise. It is pretty basic. The constructor initializes the URL and stream class members, play function play the stream. Promise resolves when playing event is fired and it is rejected when an error event is fired. pause function pauses the audio. Here URL is shoutcast stream url. You can also replace it with any file hosted on Internet. Now edit the home.html file by deleting the unwanted content and adding play and pause button.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ion-navbar</span> <span class="err">*</span><span class="na">navbar</span><span class="nt">&gt;</span> 
  <span class="nt">&lt;ion-title&gt;</span> Radio Player <span class="nt">&lt;/ion-title&gt;</span> 
<span class="nt">&lt;/ion-navbar&gt;</span> 
<span class="nt">&lt;ion-content</span> <span class="na">class=</span><span class="s">"home"</span><span class="nt">&gt;</span> 
  <span class="nt">&lt;button</span> <span class="na">dark</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">play</span><span class="err">()"</span><span class="nt">&gt;</span> 
    <span class="nt">&lt;ion-icon</span> <span class="na">name=</span><span class="s">"play"</span><span class="nt">&gt;&lt;/ion-icon&gt;</span>
  <span class="nt">&lt;/button&gt;</span> 
  <span class="nt">&lt;button</span> <span class="na">dark</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">pause</span><span class="err">()"</span><span class="nt">&gt;</span> 
    <span class="nt">&lt;ion-icon</span> <span class="na">name=</span><span class="s">"pause"</span><span class="nt">&gt;&lt;/ion-icon&gt;</span>
  <span class="nt">&lt;/button&gt;</span> 
<span class="nt">&lt;/ion-content&gt;</span>
</code></pre></div></div>

<p>Remember that we haven’t yet added the play and pause button in our home.ts file. So let’s edit our home.ts at /app/pages/home/home.ts</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Page</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'ionic-framework/ionic'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">RadioPlayer</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'../../radio/radio'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Page</span><span class="p">({</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'build/pages/home/home.html'</span><span class="p">,</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span><span class="nx">RadioPlayer</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">HomePage</span> <span class="p">{</span>
  <span class="nl">player</span><span class="p">:</span><span class="nx">any</span><span class="p">;</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">player</span><span class="p">:</span> <span class="nx">RadioPlayer</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">player</span> <span class="o">=</span> <span class="nx">player</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">play</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">().</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Playing'</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">pause</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>We imported our RadioPlayer class and used that class in our HomePage Class. Take a look at @Page annotation that we have used providers in it. Also check the constructor where we have player parameter of RadioPlayer type. play and pause functions are just calling play and pause of RadioPlayer Class.</p>

<p>I hope you will be able to create a radio Player with Ionic 2 and HTML5. You can check the source code of this demo at Github repo of <a href="https://github.com/imsingh/ionic2-radio">Ionic2-radio</a>.</p>

<p>Thanks for reading!</p>


      <hr>
      
      
        
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://inders.in/blog/2016/02/12/creating-radio-player-with-ionic-2-and-html5/';
      this.page.identifier = 'https://inders.in/blog/2016/02/12/creating-radio-player-with-ionic-2-and-html5/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://indersin.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

      
      
      <hr/>
      <div class="clearfix">

        
        <a class="btn btn-primary float-left" href="/blog/2015/10/28/introduction-to-ionic-2/" data-toggle="tooltip" data-placement="top" title="Introduction to Ionic 2">&larr; Previous<span class="d-none d-md-inline"> Post</span></a>
        
        
        <a class="btn btn-primary float-right" href="/blog/2016/08/31/ionic-2-blueprint/" data-toggle="tooltip" data-placement="top" title="Ionic 2 Blueprints">Next<span class="d-none d-md-inline"> Post</span> &rarr;</a>
        

      </div>

    </div>
  </div>
</div>


    <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="https://www.twitter.com/imsinghk7" target="_new">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          <li class="list-inline-item">
            <a href="https://github.com/imsingh" target="_new">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; Indermohan Singh 2018</p>
      </div>
    </div>
  </div>
</footer>


    <script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script>

<script src="/assets/scripts.js"></script>




  </body>

</html>
