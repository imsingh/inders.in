<!DOCTYPE html>

<html>

  <head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    Adding AdMob Ads in Ionic App - inders.in
    
  </title>

  <meta name="description" content="Using Ionic and Cordova for My Mobile App was great. But When I started, I feel so much difficulty as a newbie to display ads in my Mobile App (Check it on P...">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/inders.in/assets/vendor/bootstrap/css/bootstrap.min.css">

  <link rel="stylesheet" href="/inders.in/assets/vendor/font-awesome/css/font-awesome.min.css">

  <link rel="stylesheet" href="/inders.in/assets/main.css">
  <link rel="canonical" href="https://inders.in/inders.in/blog/2014/07/01/adding-admob-ads-ionic-app.html">
  <link rel="alternate" type="application/rss+xml" title="inders.in" href="/inders.in/feed.xml">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
</head>


  <body>

    <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/inders.in/">inders.in</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/inders.in/">Blog</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/inders.in/about">About</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" href="/inders.in/posts">Posts</a>
        </li> -->
        <li class="nav-item">
          <a class="nav-link" href="/inders.in/work">Work</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <!-- Page Header -->

<header class="masthead">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>Adding AdMob Ads in Ionic App</h1>
          
          <span class="meta">Posted by
            <a href="#">Indermohan Singh</a>
            on July 01, 2014</span>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

      <p>Using Ionic and Cordova for My Mobile App was great. But When I started, I feel so much difficulty as a newbie to display ads in my Mobile App (Check it on PlayStore : <a href="https://play.google.com/store/apps/details?id=com.ragakosh.app">Ragakosh</a>). I was using this<a href="https://github.com/floatinghotpot/cordova-plugin-admob"> plugin</a> by floatinghotpot. But I was doing it wrong way. In this post I will share my way of adding Admob Ads in Ionic App.</p>

<p>Please first follow the steps mention in Plugins <a href="https://github.com/floatinghotpot/cordova-plugin-admob">Github Page</a> for downloading the plugin!</p>

<p>I was thinking to display banner ads on my every view of app. So figured out that that Code of Ads should be in place which getsexecuted when the app loads first time. In angularjs, it is <strong>app.run</strong> function and inside <strong>$ionicPlatform.ready</strong>.</p>

<p>This is the Gist of that Code.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$ionicPlatform</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$ionicPlatform</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">admob_ios_key</span> <span class="o">=</span> <span class="s2">"Your Key"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">admob_android_key</span> <span class="o">=</span> <span class="s2">"Your Key"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">adId</span> <span class="o">=</span>
      <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"Android"</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span>
        <span class="p">?</span> <span class="nx">admob_android_key</span>
        <span class="p">:</span> <span class="nx">admob_ios_key</span><span class="p">;</span>

    <span class="kd">function</span> <span class="nx">createAd</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">plugins</span> <span class="o">&amp;&amp;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">plugins</span><span class="p">.</span><span class="nx">AdMob</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">am</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">plugins</span><span class="p">.</span><span class="nx">AdMob</span><span class="p">;</span>
        <span class="nx">am</span><span class="p">.</span><span class="nx">createBannerView</span><span class="p">(</span>
          <span class="p">{</span>
            <span class="na">publisherId</span><span class="p">:</span> <span class="nx">adId</span><span class="p">,</span>
            <span class="na">adSize</span><span class="p">:</span> <span class="nx">am</span><span class="p">.</span><span class="nx">AD_SIZE</span><span class="p">.</span><span class="nx">BANNER</span><span class="p">,</span>
            <span class="na">bannerAtTop</span><span class="p">:</span> <span class="kc">false</span>
          <span class="p">},</span>
          <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">am</span><span class="p">.</span><span class="nx">requestAd</span><span class="p">(</span>
              <span class="p">{</span> <span class="na">isTesting</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
              <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">am</span><span class="p">.</span><span class="nx">showAd</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
              <span class="p">},</span>
              <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"failed to request ad"</span><span class="p">);</span>
              <span class="p">}</span>
            <span class="p">);</span>
          <span class="p">},</span>
          <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"failed to create ad view"</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"AdMob plugin not available/ready."</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">createAd</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p>And If you want to display Interstitial Ads in start of any view. Well I did it in a bad way. I don’t want anyone to follow it. Better way is to make it a service but still showing my method. I put the following code from Plugins Github page to start of controller of that particular view.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">controllers</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">"myCtrl"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$http</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Ads Code</span>

  <span class="nx">$am</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">plugins</span><span class="p">.</span><span class="nx">AdMob</span><span class="p">;</span>
  <span class="nx">$am</span><span class="p">.</span><span class="nx">createInterstitialView</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="na">publisherId</span><span class="p">:</span> <span class="s2">"Key"</span>
    <span class="p">},</span>
    <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">$am</span><span class="p">.</span><span class="nx">requestInterstitialAd</span><span class="p">(</span>
        <span class="p">{</span> <span class="na">isTesting</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
        <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
        <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">alert</span><span class="p">(</span><span class="s2">"failed to request ad"</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">);</span>
    <span class="p">},</span>
    <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">"Interstitial failed"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">);</span>

  <span class="c1">//Rest of Controller's Code</span>
<span class="p">});</span>
</code></pre></div></div>

<p>I was doing one thing wrong and it was not mentioned by the plugin developer is, you have to create different ad unit for banner ad and interstitial ads. Each ad unit has its own key. So if you are using key of banner ad to display interstitial ads then it won’t work. Create different ad units for banner ad and interstitial ads and use their respective key in right place.</p>

<p>That is it. Thanks.</p>


      <hr>

      <div class="clearfix">

        
        <a class="btn btn-primary float-left" href="/inders.in/blog/2014/06/11/testing-web-app-different-devices.html" data-toggle="tooltip" data-placement="top" title="Testing Web App on different devices">&larr; Previous<span class="d-none d-md-inline"> Post</span></a>
        
        
        <a class="btn btn-primary float-right" href="/inders.in/blog/2014/07/29/node-js-blueprint-gem-web-developers.html" data-toggle="tooltip" data-placement="top" title="Node.js Blueprint - A Gem for Web Developers.">Next<span class="d-none d-md-inline"> Post</span> &rarr;</a>
        

      </div>

    </div>
  </div>
</div>


    <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="https://www.twitter.com/imsinghk7">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          <li class="list-inline-item">
            <a href="https://github.com/imsingh">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; Indermohan Singh 2018</p>
      </div>
    </div>
  </div>
</footer>


    <script src="/inders.in/assets/vendor/jquery/jquery.min.js"></script>
<script src="/inders.in/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/inders.in/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script>

<script src="/inders.in/assets/scripts.js"></script>




  </body>

</html>
